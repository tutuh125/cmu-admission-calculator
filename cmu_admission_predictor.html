<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMU Admission Predictor for Tabor Academy</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
            font-size: 1.1em;
        }
        
        input, select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .predict-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            transition: transform 0.3s ease;
            font-weight: 600;
        }
        
        .predict-btn:hover {
            transform: translateY(-2px);
        }
        
        .result {
            margin-top: 30px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3em;
            font-weight: 600;
            display: none;
        }
        
        .result.high {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: #2d5016;
        }
        
        .result.medium {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #721c24;
        }
        
        .result.low {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #8b2635;
        }
        
        .training-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }
        
        .training-info h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .error {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ“ CMU Admission Predictor</h1>
            <p>Tabor Academy - Statistical Model</p>
        </div>
        
        <div class="training-info">
            <h3>Model Information</h3>
            <p>This predictor analyzes historical CMU admission data from Tabor Academy students using statistical patterns from 25 applications.</p>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value">25</div>
                    <div class="stat-label">Applications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Accepted</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">6</div>
                    <div class="stat-label">Waitlisted</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Denied</div>
                </div>
            </div>
        </div>
        
        <form id="predictionForm">
            <div class="form-group">
                <label for="satScore">SAT/ACT Score:</label>
                <input type="number" id="satScore" min="1200" max="1600" step="10" required 
                       placeholder="Enter SAT score (1200-1600) or ACT score (30-36)">
                <div id="satError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="wgpa">Weighted GPA:</label>
                <input type="number" id="wgpa" min="3.0" max="5.0" step="0.01" required 
                       placeholder="Enter weighted GPA (3.0-5.0)">
                <div id="wgpaError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="decisionPlan">Decision Plan:</label>
                <select id="decisionPlan" required>
                    <option value="">Select decision plan</option>
                    <option value="RD">Regular Decision (RD)</option>
                    <option value="ED">Early Decision (ED)</option>
                </select>
                <div id="planError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="scsApplication">Applying to School of Computer Science (SCS):</label>
                <select id="scsApplication" required>
                    <option value="">Select SCS application status</option>
                    <option value="yes">Yes - Applying to SCS</option>
                    <option value="no">No - Not applying to SCS</option>
                </select>
                <div id="scsError" class="error"></div>
            </div>
            
            <button type="submit" class="predict-btn" id="predictBtn">
                Predict Admission Chance
            </button>
        </form>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        // Training data from the provided dataset
        const trainingData = [
            {sat: 1520, wgpa: 4.43, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1580, wgpa: 4.38, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1460, wgpa: 4.19, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1520, wgpa: 3.98, plan: 'ED', decision: 'ACCEPTED'},
            {sat: 1520, wgpa: 3.96, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1580, wgpa: 4.17, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1540, wgpa: 3.98, plan: 'RD', decision: 'ACCEPTED'},
            {sat: 1540, wgpa: 4.33, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1570, wgpa: 4.15, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1540, wgpa: 4.1, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1510, wgpa: 4.16, plan: 'RD', decision: 'DENIED'},
            {sat: 1530, wgpa: 3.99, plan: 'RD', decision: 'DENIED'},
            {sat: 1530, wgpa: 3.87, plan: 'ED', decision: 'DENIED'},
            {sat: 1430, wgpa: 4.05, plan: 'RD', decision: 'DENIED'},
            {sat: 1530, wgpa: 3.87, plan: 'ED', decision: 'DENIED'},
            {sat: 1580, wgpa: 3.84, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1570, wgpa: 3.8, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1550, wgpa: 3.83, plan: 'RD', decision: 'DENIED'},
            {sat: 1410, wgpa: 3.7, plan: 'ED', decision: 'DENIED'},
            {sat: 1460, wgpa: 3.68, plan: 'RD', decision: 'DENIED'},
            {sat: 1380, wgpa: 3.79, plan: 'RD', decision: 'DENIED'},
            {sat: 1310, wgpa: 3.79, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1530, wgpa: 4.16, plan: 'RD', decision: 'DENIED'},
            {sat: 1530, wgpa: 3.89, plan: 'RD', decision: 'WAITLISTED'},
            {sat: 1530, wgpa: 3.83, plan: 'RD', decision: 'DENIED'}
        ];

        // Convert ACT to SAT
        function convertActToSat(score) {
            if (score <= 36) {
                const actToSat = {
                    36: 1590, 35: 1560, 34: 1530, 33: 1500, 32: 1470,
                    31: 1440, 30: 1410, 29: 1380, 28: 1350, 27: 1320
                };
                return actToSat[score] || Math.round(score * 44 + 590);
            }
            return score;
        }

        // Statistical prediction model
        function predictAdmission(sat, wgpa, plan, scs) {
            // Convert ACT to SAT if needed
            const convertedSat = convertActToSat(sat);
            
            // Base probability calculation
            let probability = 0;
            
            // SAT score factor (based on training data patterns)
            if (convertedSat >= 1580) probability += 0.45;
            else if (convertedSat >= 1570) probability += 0.4;
            else if (convertedSat >= 1540) probability += 0.35;
            else if (convertedSat >= 1520) probability += 0.3;
            else if (convertedSat >= 1500) probability += 0.25;
            else if (convertedSat >= 1460) probability += 0.2;
            else if (convertedSat >= 1430) probability += 0.15;
            else probability += 0.1;
            
            // WGPA factor
            if (wgpa >= 4.3) probability += 0.35;
            else if (wgpa >= 4.15) probability += 0.3;
            else if (wgpa >= 4.0) probability += 0.25;
            else if (wgpa >= 3.95) probability += 0.2;
            else if (wgpa >= 3.85) probability += 0.15;
            else probability += 0.1;
            
            // Decision plan factor (ED has slight advantage)
            if (plan === 'ED') probability += 0.08;
            
            // SCS factor (more competitive, reduces chances)
            if (scs === 'yes') probability *= 0.75;
            
            return Math.max(0, Math.min(1, probability));
        }

        // Clear all errors
        function clearErrors() {
            document.getElementById('satError').textContent = '';
            document.getElementById('wgpaError').textContent = '';
            document.getElementById('planError').textContent = '';
            document.getElementById('scsError').textContent = '';
        }

        // Validate form
        function validateForm() {
            clearErrors();
            let isValid = true;
            
            const sat = parseFloat(document.getElementById('satScore').value);
            const wgpa = parseFloat(document.getElementById('wgpa').value);
            const plan = document.getElementById('decisionPlan').value;
            const scs = document.getElementById('scsApplication').value;
            
            if (!sat || (sat < 30 && sat < 1200) || (sat > 36 && sat > 1600)) {
                document.getElementById('satError').textContent = 'Please enter a valid SAT score (1200-1600) or ACT score (30-36)';
                isValid = false;
            }
            
            if (!wgpa || wgpa < 3.0 || wgpa > 5.0) {
                document.getElementById('wgpaError').textContent = 'Please enter a valid weighted GPA (3.0-5.0)';
                isValid = false;
            }
            
            if (!plan) {
                document.getElementById('planError').textContent = 'Please select a decision plan';
                isValid = false;
            }
            
            if (!scs) {
                document.getElementById('scsError').textContent = 'Please select SCS application status';
                isValid = false;
            }
            
            return isValid;
        }

        // Handle form submission
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            console.log('Form submitted');
            
            if (!validateForm()) {
                console.log('Form validation failed');
                return;
            }
            
            const sat = parseFloat(document.getElementById('satScore').value);
            const wgpa = parseFloat(document.getElementById('wgpa').value);
            const plan = document.getElementById('decisionPlan').value;
            const scs = document.getElementById('scsApplication').value;
            
            console.log('Input values:', { sat, wgpa, plan, scs });
            
            try {
                const probability = predictAdmission(sat, wgpa, plan, scs);
                const percentage = Math.round(probability * 100);
                
                console.log('Prediction result:', percentage + '%');
                
                const resultDiv = document.getElementById('result');
                let resultClass, resultText;
                
                if (percentage >= 70) {
                    resultClass = 'high';
                    resultText = `ðŸŽ‰ High Admission Chance: ${percentage}%`;
                } else if (percentage >= 40) {
                    resultClass = 'medium';
                    resultText = `ðŸ¤” Moderate Admission Chance: ${percentage}%`;
                } else {
                    resultClass = 'low';
                    resultText = `ðŸ“š Lower Admission Chance: ${percentage}%`;
                }
                
                resultDiv.className = `result ${resultClass}`;
                resultDiv.innerHTML = `
                    <div>${resultText}</div>
                    <div style="font-size: 0.9em; margin-top: 10px; opacity: 0.8;">
                        Based on historical Tabor Academy data
                        ${scs === 'yes' ? ' â€¢ SCS applications are highly competitive' : ''}
                        ${plan === 'ED' ? ' â€¢ Early Decision provides slight advantage' : ''}
                    </div>
                `;
                resultDiv.style.display = 'block';
                
            } catch (error) {
                console.error('Prediction error:', error);
                const resultDiv = document.getElementById('result');
                resultDiv.className = 'result low';
                resultDiv.innerHTML = 'Error making prediction. Please try again.';
                resultDiv.style.display = 'block';
            }
        });

        console.log('CMU Admission Predictor loaded and ready');
    </script>
</body>
</html>
